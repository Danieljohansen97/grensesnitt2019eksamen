<!DOCTYPE html>
<html>
    <head>
        <title>Booking</title>
        <meta lang="no">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://fonts.googleapis.com/css?family=Montserrat&display=swap" rel="stylesheet">
        <link href="/public/css/mobileCss/main.css" type="text/css" rel="stylesheet">
        <link href="/public/css/mobileCss/booking.css" type="text/css" rel="stylesheet">
    </head>
    <body>
        <div class="mainContainer">
            <nav>
                <!-- Hamburgermenu overlay -->
                <div id="myNav" class="overlay">
                    <!-- Button to close the overlay navigation -->
                    <a href="javascript:void(0)" class="closebtn" onclick="closeOverlay()">&times;</a>    
                    <!-- Overlay content -->
                    <div class="overlay-content">
                        <a href="/public/html/mobileHtml/frontpage.html">Hjem</a>
                        <a id="activeLink" href="/public/html/mobileHtml/booking.html">Bestill time</a>
                        <a href="/public/html/mobileHtml/treatments.html">Behandlinger og priser</a>
                        <a href="/public/html/mobileHtml/aboutUs.html">Om oss</a>
                    </div>      
                </div>
                <!-- NAVBAR MAIN DIV -->
                <ul class="row" id="navbar">
                    <li class="col2" id="hamburgerMenuContainer" onclick="openOverlay()">
                        <div class="line1"></div>
                        <div class="line2"></div>
                        <div class="line3"></div>
                    </li>
                    <li class="logoContainer col8">
                        <a href="/public/html/mobileHtml/frontpage.html"><img id="logo" src="/public/pictures/HK_hvit_rgb.png"></a>
                    </li>
                    <li class="col2">
                        <!-- User button -->
                        <img src="/public/pictures/user-white.png" id="userModalBtn"></img>
                    </li>
                </ul>
            </nav>

            <!-- User modal -->
            <div id="userModal" class="modal">
                <span class="close">&times;</span>
                <br>
                <!-- Modal Content -->
                <div class="modalContent">
                    <p class="loggedOut" style="display: none;">Du er ikke logget inn</p>
                    <div id="userDetails">  
                    </div>
                    <p id="logout" class="loggedIn button" style="display: none;">Logg ut</p>
                    <p id="loginModalBtn2" class="loggedOut button" style="display: none;">Logg inn</p>
                    <br class="loggedOut">
                    <p id="registerModalBtn2" class="loggedOut button" style="display: none;">Ny bruker</p>
                </div>
            </div>

            <!-- Login Modal-->
            <div id="loginModal" class="modal">
                <span class="close">&times;</span>
                <br>
                <!-- Modal Content -->
                <div class="modalContent">
                    <h4>Logg inn</h4>
                    <form id="loginForm">
                        <input type="email" id="loginEmail" placeholder="E-post">
                        <input type="password" id="loginPassword" placeholder="Passord">
                        <br>
                        <button id="loginButton" class="button">Logg inn</button>
                        <p class="error"></p>
                    </form>
                </div>
            </div>

            <!-- Register modal -->
            <div id="registerModal" class="modal">
                <span class="close">&times;</span>
                <br>
                <!-- Modal Content -->
                <div class="modalContent">
                    <h4>Registrer deg</h4>
                    <form id="signupForm">
                        <input type="email" id="signupEmail" placeholder="E-post">
                        <br>
                        <input type="password" id="signupPassword" placeholder="Password">
                        <br>
                        <input type="text" id="signupName" placeholder="Navn">
                        <br>
                        <input type="text" id="signupComment" placeholder="Kommentar">
                        <br>
                        <button id="registerButton"  class="button">Opprett</button>
                        <p class="error"></p>
                    </form>
                </div>
            </div>

            <!-- Booking process -->
            <!-- Step 1 -->
            <div id="stepOneModal" class="modal">
                <h4>Steg 1</h4>
                <br>
                <!-- Modal Content -->
                <div class="modalContent">
                    <form id="stepOneForm">
                        <p>Velg behandling:</p>
                        <select form="stepOneForm" id="treatmentType">
                            <option value="Osteopati">Osteopati</option>
                            <option value="Akupunktur">Akupunktur</option>
                            <option value="Kostholdsveiledning">Kostholdsveiledning</option>
                            <option value="Fysiologisk testlab">Fysiologisk testlab</option>
                        </select>
                        <br>
                        <br>
                        <button id="completeStepOne" class="button">Neste</button>
                    </form>
                    <br>
                    <button id="endOrderOne" class="button">Avbryt</button>
                </div>
            </div>
            <!-- Step 2 -->
            <div id="stepTwoModal" class="modal">
                <h4>Steg 2</h4>
                <br>
                <!-- Modal Content -->
                <div class="modalContent">
                    <form id="stepTwoForm">
                        <p>Er dette deg?</p>
                        <p id="showName"></p>
                        <br>
                        <p id="showEmail"></p>
                        <br>
                        <br>
                        <button id="completeStepTwo" class="button">Ja</button>
                    </form>
                    <br>
                    <button id="endOrderTwo" class="button">Nei</button>
                </div>
            </div>
            <!-- Step 3 -->
            <div id="stepThreeModal" class="modal">
                <h4>Steg 3</h4>
                <br>
                <!-- Modal Content -->
                <div class="modalContent">
                    <p>Dato og tid:</p>
                    <form id="stepThreeForm">
                        <input type="date" id="treatmentDate">
                        <input type="time" id="treatmentTime">
                        <br>
                        <button id="completeStepThree" class="button">Neste</button>
                    </form>
                    <br>
                    <button id="endOrderThree" class="button">Avbryt</button>
                </div>
            </div>
            <!-- Step 4 -->
            <div id="stepFourModal" class="modal">
                <h4>Steg 4</h4>
                <br>
                <!-- Modal Content -->
                <div class="modalContent">
                    <p>Legg ved Kommentar</p>
                    <form id="stepFourForm">
                        <input type="text" id="treatmentComment">
                        <br>
                        <button id="completeStepFour" class="button">Bestill</button>
                    </form>
                    <br>
                    <button id="endOrderFour" class="button">Avbryt</button>
                </div>
            </div>
            
            <!-- CONTENT MAIN DIV -->
            <div id="contentPusher"></div>
            <div id="content">
                <!-- Log in and register -->
                <h3 class="loggedOut" style="display: none;">Venligst logg inn for å fortsette</h3>
                <p class="loggedOut button" id="loginModalBtn" style="display: none;">Logg inn</p>
                <h3 class="loggedOut" style="display: none;">Ingen bruker?</h3>
                <p class="loggedOut button" id="registerModalBtn" style="display: none;">Ny bruker</p>

                <!-- Start booking process -->
                <p class="loggedIn button" id="startBookingBtn" style="display: none;">Bestill time</p>

                <!-- Some confirmation that the order has been sent -->
                <p id="bookingConfirmation"></p>
                <br>
                <a id="returnBtn" href="/public/html/mobileHtml/frontpage.html">Tilbake til hovedsiden</a>
            </div>

            <!-- FOOTER MAIN DIV -->
            <div id="footer">
                <div class="row">
                    <div class="col12">
                        <h5>Kontaktinformasjon</h5>
                        <p>TLF: 971 17 690</p>
                        <p>E-post: studentklinikken@kristiania.no</p>
                        <h5>Eksterne sider</h5>
                        <a href="https://kristiania.no/">Høgskolen Kristiania</a>
                        <br>
                        <a href="https://kristiania.no/studentklinikken/">Studentklinikken</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.5.0/firebase-firestore.js"></script>
        <script>
            // Your web app's Firebase configuration
            var firebaseConfig = {
                apiKey: "AIzaSyB9hDcu_H8U-XYC7f4PaiLzzxWTT4cppGk",
                authDomain: "sk-devbuild.firebaseapp.com",
                databaseURL: "https://sk-devbuild.firebaseio.com",
                projectId: "sk-devbuild",
                storageBucket: "sk-devbuild.appspot.com",
                messagingSenderId: "480822561643",
                appId: "1:480822561643:web:4ce91c54c055f3ad815a2e",
                measurementId: "G-P2KJPWCB9E"
            };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);

            // Make auth and firestore refs
            const auth = firebase.auth();
            const db = firebase.firestore();
        </script>
        <script src="/public/js/mobileJs/auth.js"></script>
        <script src="/public/js/mobileJs/index.js" type="text/javascript"></script>
        <script src="/public/js/mobileJs/booking.js" type="text/javascript"></script>
        <script src="/public/js/mobileJs/order.js"></script>
    </body>
</html>